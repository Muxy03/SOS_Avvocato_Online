import{n as I,o,p as R,E as m,K as L,L as x,M as D,N as F,O as k,P as O,w as y,Q as Y,U as q,R as C,S as M,T as P,z as U,V as w,W as z,e as B,X as H,Y as K}from"./Dkbj-q8P.js";function V(s,f,c=!1){o&&R();var i=s,e=null,a=null,r=q,N=c?m:0,u=!1;const S=(l,t=!0)=>{u=!0,v(t,l)};var n=null;function h(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&M(l),t&&P(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let T=!1;if(o){const g=L(i)===x;!!r===g&&(i=D(),F(i),k(!1),T=!0)}var b=C(),d=i;if(b&&(n=document.createDocumentFragment(),n.append(d=O())),r?e??=t&&y(()=>t(d)):a??=t&&y(()=>t(d)),b){var _=Y,p=r?e:a,E=r?a:e;p&&_.skipped_effects.delete(p),E&&_.skipped_effects.add(E),_.add_callback(h)}else h();T&&k(!0)};I(()=>{u=!1,f(S),u||v(null,null)},N),o&&(i=U)}function A(s,f){return s===f||s?.[K]===f}function W(s={},f,c,i){return w(()=>{var e,a;return z(()=>{e=a,a=[],B(()=>{s!==c(...a)&&(f(s,...a),e&&A(c(...e),s)&&f(null,...e))})}),()=>{H(()=>{a&&A(c(...a),s)&&f(null,...a)})}}),s}export{W as b,V as i};
