import{K as I,L as S,M as b,i as P,a as Y,N as M,O as E,A as k,P as R,Q as C,R as $,S as T,T as g,U as A,p as x,z as p,V as W,W as j,X as q,Y as z,Z as B,_ as F,$ as K,w as Q,o as N,F as U,c as X,r as Z,H as G}from"./D7Q30rfQ.js";const J=["touchstart","touchmove"];function ee(e){return J.includes(e)}const te=new Set,D=new Set;function w(e){var t=this,n=t.ownerDocument,l=e.type,o=e.composedPath?.()||[],r=o[0]||e.target,u=0,c=e.__root;if(c){var f=o.indexOf(c);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var _=o.indexOf(t);if(_===-1)return;f<=_&&(u=f)}if(r=o[u]||e.target,r!==t){I(e,"currentTarget",{configurable:!0,get(){return r||n}});var m=Y,i=M;S(null),b(null);try{for(var a,s=[];r!==null;){var h=r.assignedSlot||r.parentNode||r.host||null;try{var d=r["__"+l];if(d!=null&&(!r.disabled||e.target===r))if(P(d)){var[V,...H]=d;V.apply(r,[e,...H])}else d.call(r,e)}catch(y){a?s.push(y):a=y}if(e.cancelBubble||h===t||h===null)break;r=h}if(a){for(let y of s)queueMicrotask(()=>{throw y});throw a}}finally{e.__root=t,delete e.currentTarget,S(m),b(i)}}}function ne(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function re(e,t){return L(e,t)}function se(e,t){E(),t.intro=t.intro??!1;const n=t.target,l=N,o=p;try{for(var r=k(n);r&&(r.nodeType!==R||r.data!==C);)r=$(r);if(!r)throw T;g(!0),A(r),x();const u=L(e,{...t,anchor:r});if(p===null||p.nodeType!==R||p.data!==W)throw j(),T;return g(!1),u}catch(u){if(u===T)return t.recover===!1&&q(),E(),z(n),g(!1),re(e,t);throw u}finally{g(l),A(o)}}const v=new Map;function L(e,{target:t,anchor:n,props:l={},events:o,context:r,intro:u=!0}){E();var c=new Set,f=i=>{for(var a=0;a<i.length;a++){var s=i[a];if(!c.has(s)){c.add(s);var h=ee(s);t.addEventListener(s,w,{passive:h});var d=v.get(s);d===void 0?(document.addEventListener(s,w,{passive:h}),v.set(s,1)):v.set(s,d+1)}}};f(B(te)),D.add(f);var _=void 0,m=F(()=>{var i=n??t.appendChild(K());return Q(()=>{if(r){U({});var a=X;a.c=r}o&&(l.$$events=o),N&&Z(i,null),_=e(i,l)||{},N&&(M.nodes_end=p),r&&G()}),()=>{for(var a of c){t.removeEventListener(a,w);var s=v.get(a);--s===0?(document.removeEventListener(a,w),v.delete(a)):v.set(a,s)}D.delete(f),i!==n&&i.parentNode?.removeChild(i)}});return O.set(_,m),_}let O=new WeakMap;function ie(e,t){const n=O.get(e);return n?(O.delete(e),n(t)):Promise.resolve()}export{se as h,re as m,ne as s,ie as u};
