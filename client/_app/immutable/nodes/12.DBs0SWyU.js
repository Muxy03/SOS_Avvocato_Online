import"../chunks/DsnmJJEf.js";import{o as re}from"../chunks/DbbzO-B6.js";import{p as te,a2 as se,a1 as T,i as a,a3 as ie,f as m,t as U,c as p,d as le,h as u,s as t,e as l,a0 as g,j as o,r as n,n as W,k as oe}from"../chunks/813Ht5r7.js";import{s as ne}from"../chunks/CUznojAc.js";import{i as _}from"../chunks/DadSIK-R.js";import{a as de,b as k,e as pe}from"../chunks/Bh_3nlJB.js";import{s as ue,r as q}from"../chunks/KXhGhqBc.js";import{s as P}from"../chunks/DL-E3Ce0.js";import{c as ce,f as fe}from"../chunks/BrdxJ9sT.js";import{r as me}from"../chunks/KjYeVjkE.js";var ve=m('<span class="error-text">Inserisci un Nome Completo valido</span>'),_e=m('<span class="error-text">Inserisci un indirizzo email valido</span>'),be=m('<span class="error-text">La password deve essere di almeno 6 caratteri</span>'),he=m('<div class="error-message max-w-full text-clip"> </div>'),ge=m('<span class="loading-spinner"></span> Creazione account...',1),xe=m('<div class="relative container flex flex-col items-center justify-center"><div class="auth-card flex flex-col items-center justify-center gap-3"><div class="auth-header"><h1>Registrati</h1></div> <form class="auth-form" method="POST" action="?/register"><div class="form-group"><label for="fullName">Nome Completo</label> <input id="fullName" type="text" placeholder="Inserisci Nome e Cognome" required/> <!></div> <div class="form-group"><label for="email">Indirizzo Email</label> <input id="email" type="email" placeholder="Inserisci la tua email" autocomplete="email" required/> <!></div> <div class="form-group"><label for="password">Password</label> <input id="password" type="password" placeholder="Inserisci la tua password" required/> <!></div> <!> <button type="submit" class="btn btn-primary"><!></button></form> <div class="w-full auth-switch flex flex-col items-center justify-center gap-2"><div class="w-full border-t border-gray-600"></div> <p>Hai gi√† un account? <a href="/login"><button type="button" class="link-btn">Accedi</button></a></p></div></div></div>');function Ve(B,F){te(F,!0);let i=u(""),d=u(""),c=u(""),x=u(!1);const w=g(()=>a(i).includes("@")&&a(i).includes(".")),y=g(()=>a(d).length>=6),N=g(()=>a(c).length>0),G=g(()=>a(w)&&a(y)&&a(N));let s=u(void 0),A=u(void 0),C=u(void 0);re(()=>{const e=T("App");o(C,{...e.RememberMe},!0),o(A,{...e.user},!0),o(s,{...e.error},!0)}),se(()=>{let e=T("App");a(A)&&(e.user=a(A)),a(s)&&(e.error=a(s)),a(C)&&(e.RememberMe=a(C)),ie("App",e)});var I=xe(),E=l(I),z=t(l(E),2),j=l(z),b=t(l(j),2);q(b);let H;var J=t(b,2);{var K=e=>{var r=ve();p(e,r)};_(J,e=>{a(c)&&!a(N)&&e(K)})}n(j);var M=t(j,2),h=t(l(M),2);q(h);let L;var Q=t(h,2);{var X=e=>{var r=_e();p(e,r)};_(Q,e=>{a(i)&&!a(w)&&e(X)})}n(M);var R=t(M,2),v=t(l(R),2);q(v);let O;ue(v,"autocomplete","new-password");var Y=t(v,2);{var Z=e=>{var r=be();p(e,r)};_(Y,e=>{a(d)&&!a(y)&&e(Z)})}n(R);var S=t(R,2);{var D=e=>{var r=he(),f=l(r,!0);n(r),U(()=>ne(f,a(s).value)),p(e,r)};_(S,e=>{a(s)!==void 0&&a(s).value!==void 0&&a(s).value.length>0&&e(D)})}var V=t(S,2),$=l(V);{var ee=e=>{var r=ge();W(),p(e,r)},ae=e=>{var r=oe("Crea Account");p(e,r)};_($,e=>{a(x)?e(ee):e(ae,!1)})}n(V),n(z),de(z,(e,r)=>pe?.(e,r),()=>({formData:e})=>(o(x,!0),e.set("email",a(i)),e.set("password",a(d)),e.set("fullName",a(c)),async({result:r,update:f})=>{o(x,!1),r.type==="success"?await f():r.type==="failure"?(a(s)!==void 0&&a(s).value!==void 0&&(a(s).value=r.data?.code),await f()):r.type==="redirect"&&(await ce(fe.auth,a(i),a(d)),me(303,r.location))})),W(2),n(E),n(I),U((e,r,f)=>{H=P(b,1,"form-input",null,H,e),L=P(h,1,"form-input",null,L,r),O=P(v,1,"form-input",null,O,f),V.disabled=!a(G)},[()=>({invalid:a(c)&&!a(N)}),()=>({invalid:a(i)&&!a(w)}),()=>({invalid:a(d)&&!a(y)})]),k(b,()=>a(c),e=>o(c,e)),k(h,()=>a(i),e=>o(i,e)),k(v,()=>a(d),e=>o(d,e)),p(B,I),le()}export{Ve as component};
