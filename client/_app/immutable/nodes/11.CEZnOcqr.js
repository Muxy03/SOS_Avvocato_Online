import"../chunks/DsnmJJEf.js";import{p as U,a as E,f as p,t as R,k as s,j,b as n,c as X,s as i,d as l,a1 as z,l as m,r as o,n as L,a2 as Y}from"../chunks/D50pdiVl.js";import{s as Z}from"../chunks/BExVpiIy.js";import{i as f}from"../chunks/CIBJ9sE4.js";import{a as D,b as N,e as $}from"../chunks/BOUJ1jSm.js";import{s as aa,r as O}from"../chunks/pAYp49zD.js";import{s as S}from"../chunks/C8jEXIQm.js";import{s as ea,f as sa}from"../chunks/CrL3HiYF.js";import{g as ra}from"../chunks/BqnRJcZ7.js";var ia=p('<span class="error-text">Inserisci un indirizzo email valido</span>'),ta=p('<span class="error-text">La password deve essere di almeno 6 caratteri</span>'),la=p('<div class="error-message"> </div>'),oa=p('<span class="loading-spinner"></span> Accesso in corso...',1),na=p('<div class="min-w-screen container relative flex min-h-screen flex-col items-center justify-center p-4"><div class="auth-card flex flex-col items-center justify-center gap-3"><div class="auth-header"><h1>Accedi</h1></div> <form class="auth-form" method="POST" action="?/login"><div class="form-group"><label for="email">Indirizzo Email</label> <input id="email" type="email" autocomplete="email" required/> <!></div> <div class="form-group"><label for="password">Password</label> <input id="password" type="password" placeholder="Inserisci la tua password" autocomplete="current-password" required/> <!></div> <div class="form-options"><label class="checkbox-label"><input type="checkbox" class="checkbox"/> <span class="checkmark"></span> Ricordami</label></div> <!> <button type="submit" class="btn btn-primary"><!></button></form> <div class="auth-switch flex w-full flex-col items-center justify-center gap-2"><div class="w-full border-t border-gray-600"></div> <p>Non hai un account? <a href="/register"><button type="button" class="link-btn">Registrati</button></a></p></div></div></div>');function _a(T,W){U(W,!0);let r=j(""),t=j(""),b=j(!1);const h=z(()=>s(r).includes("@")&&s(r).includes(".")),_=z(()=>s(t).length>=6),B=z(()=>s(h)&&s(_));let d=E({value:""}),g=E({value:void 0});var w=na(),A=l(w),x=i(l(A),2),y=l(x),c=i(l(y),2);O(c);let P;var C=i(c,2);{var F=a=>{var e=ia();n(a,e)};f(C,a=>{s(r)&&!s(h)&&a(F)})}o(y);var k=i(y,2),v=i(l(k),2);O(v);let V;var G=i(v,2);{var H=a=>{var e=ta();n(a,e)};f(G,a=>{s(t)&&!s(_)&&a(H)})}o(k);var q=i(k,4);{var J=a=>{var e=la(),u=l(e,!0);o(e),R(()=>Z(u,d?.value)),n(a,e)};f(q,a=>{d!==void 0&&d.value!==void 0&&d.value.length>0&&a(J)})}var I=i(q,2),K=l(I);{var M=a=>{var e=oa();L(),n(a,e)},Q=a=>{var e=Y("Accedi");n(a,e)};f(K,a=>{s(b)?a(M):a(Q,!1)})}o(I),o(x),D(x,(a,e)=>$?.(a,e),()=>({formData:a})=>(m(b,!0),a.set("email",s(r)),a.set("password",s(t)),async({result:e,update:u})=>{m(b,!1),e.type==="success"?await u():e.type==="failure"?(d.value=e.data?.error,await u()):e.type==="redirect"&&(await ea(sa.auth,s(r),s(t)),ra(e.location))})),L(2),o(A),o(w),R((a,e)=>{aa(c,"placeholder",g===void 0||g.value===void 0?"Inserisci la tua email":g.value?.email),P=S(c,1,"form-input",null,P,a),V=S(v,1,"form-input",null,V,e),I.disabled=!s(B)},[()=>({invalid:s(r)&&!s(h)}),()=>({invalid:s(t)&&!s(_)})]),N(c,()=>s(r),a=>m(r,a)),N(v,()=>s(t),a=>m(t,a)),n(T,w),X()}export{_a as component};
