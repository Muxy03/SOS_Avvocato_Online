import"../chunks/DsnmJJEf.js";import{p as ee,a as S,f as p,t as T,i as a,h,c as d,d as ae,s,e as i,$ as g,j as f,r as l,n as U,a0 as re}from"../chunks/CB0GAoS5.js";import{s as se}from"../chunks/DuTLVp-_.js";import{i as m}from"../chunks/BKAMBxZp.js";import{a as te,b as A,e as ie}from"../chunks/B9xabBUp.js";import{s as le,r as P}from"../chunks/CH-7nw50.js";import{s as k}from"../chunks/BChRSR2T.js";import{c as oe,f as ne}from"../chunks/CrL3HiYF.js";import{r as de}from"../chunks/KjYeVjkE.js";var ce=p('<span class="error-text">Inserisci un Nome Completo valido</span>'),ve=p('<span class="error-text">Inserisci un indirizzo email valido</span>'),pe=p('<span class="error-text">La password deve essere di almeno 6 caratteri</span>'),ue=p('<div class="error-message max-w-full text-clip"> </div>'),fe=p('<span class="loading-spinner"></span> Creazione account...',1),me=p('<div class="relative container flex flex-col items-center justify-center"><div class="auth-card flex flex-col items-center justify-center gap-3"><div class="auth-header"><h1>Registrati</h1></div> <form class="auth-form" method="POST" action="?/register"><div class="form-group"><label for="fullName">Nome Completo</label> <input id="fullName" type="text" placeholder="Inserisci Nome e Cognome" required/> <!></div> <div class="form-group"><label for="email">Indirizzo Email</label> <input id="email" type="email" placeholder="Inserisci la tua email" autocomplete="email" required/> <!></div> <div class="form-group"><label for="password">Password</label> <input id="password" type="password" placeholder="Inserisci la tua password" required/> <!></div> <!> <button type="submit" class="btn btn-primary"><!></button></form> <div class="auth-switch flex w-full flex-col items-center justify-center gap-2"><div class="w-full border-t border-gray-600"></div> <p>Hai gi√† un account? <a href="/login"><button type="button" class="link-btn">Accedi</button></a></p></div></div></div>');function ze(W,B){ee(B,!0);let t=h(""),o=h(""),c=h(""),w=h(!1);const x=g(()=>a(t).includes("@")&&a(t).includes(".")),y=g(()=>a(o).length>=6),N=g(()=>a(c).length>0),F=g(()=>a(x)&&a(y)&&a(N));let n=S({value:""});S({value:void 0});var I=me(),E=i(I),z=s(i(E),2),C=i(z),_=s(i(C),2);P(_);let H;var G=s(_,2);{var J=e=>{var r=ce();d(e,r)};m(G,e=>{a(c)&&!a(N)&&e(J)})}l(C);var j=s(C,2),b=s(i(j),2);P(b);let L;var K=s(b,2);{var M=e=>{var r=ve();d(e,r)};m(K,e=>{a(t)&&!a(x)&&e(M)})}l(j);var V=s(j,2),u=s(i(V),2);P(u);let O;le(u,"autocomplete","new-password");var Q=s(u,2);{var X=e=>{var r=pe();d(e,r)};m(Q,e=>{a(o)&&!a(y)&&e(X)})}l(V);var R=s(V,2);{var Y=e=>{var r=ue(),v=i(r,!0);l(r),T(()=>se(v,n.value)),d(e,r)};m(R,e=>{n!==void 0&&n.value!==void 0&&n.value.length>0&&e(Y)})}var q=s(R,2),Z=i(q);{var $=e=>{var r=fe();U(),d(e,r)},D=e=>{var r=re("Crea Account");d(e,r)};m(Z,e=>{a(w)?e($):e(D,!1)})}l(q),l(z),te(z,(e,r)=>ie?.(e,r),()=>({formData:e})=>(f(w,!0),e.set("email",a(t)),e.set("password",a(o)),e.set("fullName",a(c)),async({result:r,update:v})=>{f(w,!1),r.type==="success"?await v():r.type==="failure"?(n!==void 0&&n.value!==void 0&&(n.value=r.data?.code),await v()):r.type==="redirect"&&(await oe(ne.auth,a(t),a(o)),de(303,r.location))})),U(2),l(E),l(I),T((e,r,v)=>{H=k(_,1,"form-input",null,H,e),L=k(b,1,"form-input",null,L,r),O=k(u,1,"form-input",null,O,v),q.disabled=!a(F)},[()=>({invalid:a(c)&&!a(N)}),()=>({invalid:a(t)&&!a(x)}),()=>({invalid:a(o)&&!a(y)})]),A(_,()=>a(c),e=>f(c,e)),A(b,()=>a(t),e=>f(t,e)),A(u,()=>a(o),e=>f(o,e)),d(W,I),ae()}export{ze as component};
