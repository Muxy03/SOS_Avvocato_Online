import"../chunks/DsnmJJEf.js";import"../chunks/ByMhJ1lq.js";import{p as xe,g as m,ae as ge,a8 as _e,f as C,s as o,a9 as ye,d as s,t as Z,h as t,b as w,c as he,i,r}from"../chunks/nGUMutCJ.js";import{d as we,s as k}from"../chunks/BeycMaZk.js";import{i as K}from"../chunks/CltT4Sjb.js";import{e as ke,i as je}from"../chunks/BmhJr0QQ.js";import{a as Ce,b as j,e as Se}from"../chunks/D6y1jbd9.js";import{r as A,a as Ae}from"../chunks/AhqUU1ts.js";import{b as Be}from"../chunks/C9kSmRma.js";function Ee(f,d){const n=Array.from(f.target?.files||[]);d(n)}function Fe(f,d,n,h,x,v,p,c,g){confirm("Are you sure you want to cancel? All data will be lost.")&&(i(d,""),i(n,""),i(h,""),i(x,""),i(v,""),i(p,[],!0),i(c,!1),i(g,{to:t(d),subject:t(x),message:t(v)}))}var Me=(f,d)=>i(d,!0),ze=C('<button type="button" class="text-sm font-medium text-blue-600 hover:text-blue-800">+ Add CC/BCC</button>'),Te=C('<div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div><label for="cc-email" class="mb-2 block text-sm font-medium text-gray-700">CC</label> <input id="cc-email" type="email" placeholder="cc@example.com" class="w-full rounded-md border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"/></div> <div><label for="bcc-email" class="mb-2 block text-sm font-medium text-gray-700">BCC</label> <input id="bcc-email" type="email" placeholder="bcc@example.com" class="w-full rounded-md border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"/></div></div>'),Ie=(f,d,n)=>d(t(n).id),Ge=C('<div class="file-item flex items-center justify-between rounded-lg bg-gray-50 p-3 svelte-1qutyk1"><div class="flex items-center space-x-3"><span class="text-2xl"> </span> <div><p class="font-medium text-gray-900"> </p> <p class="text-sm text-gray-500"> </p></div></div> <button type="button" class="font-medium text-red-500 hover:text-red-700">âœ•</button></div>'),Ne=C('<div class="mt-4 space-y-2"></div>'),qe=C('<div class="flex min-h-screen items-center justify-center"><div class="flex h-[600px] w-[300px] flex-col items-center justify-center"><div class="flex flex-col items-center justify-around overflow-hidden rounded-lg bg-white shadow-lg"><div class="flex flex-col items-center justify-center bg-gradient-to-r from-blue-600 to-purple-600"><h1 class="text-2xl font-bold text-white">Send Email</h1> <p class=" text-center text-blue-100">Compose and send your message with attachments</p></div> <form class="flex flex-col" method="POST" action="?/sendEmail"><div class="flex items-center justify-between gap-4"><label for="sender-mail" class="block text-sm font-medium text-gray-700">To</label> <input id="sender-mail" type="email" placeholder="recipient@example.com" class="w-full rounded-md border border-gray-300 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"/></div> <!> <!> <div><label for="subject" class="mb-2 block text-sm font-medium text-gray-700">Subject <span class="text-red-500">*</span></label> <input id="subject" type="text" placeholder="Enter email subject" class="w-full rounded-md border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"/></div> <div><label for="message" class="mb-2 block text-sm font-medium text-gray-700">Message <span class="text-red-500">*</span></label> <textarea id="message" rows="6" placeholder="Enter your message here..." class="w-full resize-y rounded-md border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"></textarea></div> <div><label for="files" class="mb-2 block text-sm font-medium text-gray-700">Attachments</label> <input id="files" type="file" multiple class="hidden"/> <!></div> <div class="flex flex-col items-center justify-between space-y-3 border-t border-gray-200 pt-6 sm:flex-row sm:space-y-0"><div class="text-sm text-gray-500"> </div> <div class="flex gap-3"><button type="button" class="rounded-md border border-gray-300 font-medium text-gray-700 transition-colors hover:bg-gray-50">Cancel</button> <button type="submit" class="transform rounded-md bg-gradient-to-r from-blue-600 to-purple-600 font-medium text-white transition-all hover:scale-105 hover:from-blue-700 hover:to-purple-700 disabled:transform-none disabled:cursor-not-allowed disabled:opacity-50"> </button></div></div></form></div></div></div>');function Ke(f,d){xe(d,!0);let n=m("a.mussari@studenti.unipi.it"),h=m(""),x=m(""),v=m("TEST"),p=m("TESTING"),c=m(ge([])),g=m(!1),S=m(!1),D=ye(()=>({to:t(n),subject:t(v),message:t(p)})),O=m(void 0);const{error:ee}=_e("App");function te(e){if(e===0)return"0 Bytes";const a=1024,l=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,u)).toFixed(2))+" "+l[u]}function ae(e){return"ðŸ“Ž"}function re(e){const a=e.map(l=>({id:Date.now()+Math.random(),file:l,name:l.name,size:l.size,type:l.type}));i(c,[...t(c),...a],!0)}function se(e){i(c,t(c).filter(a=>a.id!==e),!0)}var B=qe(),P=s(B),$=s(P),E=o(s($),2),F=s(E),H=o(s(F),2);A(H),r(F);var J=o(F,2);{var oe=e=>{var a=ze();a.__click=[Me,S],w(e,a)};K(J,e=>{t(S)||e(oe)})}var L=o(J,2);{var ie=e=>{var a=Te(),l=s(a),u=o(s(l),2);A(u),r(l);var _=o(l,2),y=o(s(_),2);A(y),r(_),r(a),j(u,()=>t(h),b=>i(h,b)),j(y,()=>t(x),b=>i(x,b)),w(e,a)};K(L,e=>{t(S)&&e(ie)})}var M=o(L,2),Q=o(s(M),2);A(Q),r(M);var z=o(M,2),R=o(s(z),2);Ae(R),r(z);var T=o(z,2),I=o(s(T),2);I.__change=[Ee,re],Be(I,e=>i(O,e),()=>t(O));var le=o(I,2);{var ne=e=>{var a=Ne();ke(a,21,()=>t(c),je,(l,u)=>{var _=Ge(),y=s(_),b=s(y),ue=s(b,!0);r(b);var X=o(b,2),q=s(X),me=s(q,!0);r(q);var Y=o(q,2),fe=s(Y,!0);r(Y),r(X),r(y);var ve=o(y,2);ve.__click=[Ie,se,u],r(_),Z((pe,be)=>{k(ue,pe),k(me,t(u).name),k(fe,be)},[()=>ae(t(u).name),()=>te(t(u).size)]),w(l,_)}),r(a),w(e,a)};K(le,e=>{t(c).length>0&&e(ne)})}r(T);var U=o(T,2),G=s(U),de=s(G);r(G);var V=o(G,2),W=s(V);W.__click=[Fe,n,h,x,v,p,c,S,D];var N=o(W,2),ce=s(N,!0);r(N),r(V),r(U),r(E),Ce(E,(e,a)=>Se?.(e,a),()=>({formData:e})=>(i(g,!0),e.set("to",t(n)),e.set("subject",t(v)),e.set("message",t(p)),async({result:a,update:l})=>{i(g,!1),a.type==="success"?await l():a.type==="failure"&&(ee.value=a.data?.code,await l())})),r($),r(P),r(B),Z(()=>{k(de,`${t(c).length??""} file(s) attached`),N.disabled=t(g),k(ce,t(g)?"Sending...":"Send Email")}),j(H,()=>t(n),e=>i(n,e)),j(Q,()=>t(v),e=>i(v,e)),j(R,()=>t(p),e=>i(p,e)),w(f,B),he()}we(["click","change"]);function Ve(f){Ke(f,{})}export{Ve as component};
