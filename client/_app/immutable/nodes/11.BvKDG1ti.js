import"../chunks/DsnmJJEf.js";import{p as U,a as V,f as c,t as q,i as e,h as R,b as n,c as X,s as i,d as l,_ as j,j as m,r as o,$ as O,a0 as Y}from"../chunks/7vUO3RyR.js";import{s as Z}from"../chunks/DlUQHRdJ.js";import{i as f}from"../chunks/Cs_X23zF.js";import{a as D,b as L,e as $}from"../chunks/BG9ubxqI.js";import{s as aa,r as N}from"../chunks/Cn7woczV.js";import{s as S}from"../chunks/Dgsv8Pl-.js";import{s as ea,f as sa}from"../chunks/CrL3HiYF.js";import{g as ra}from"../chunks/dSJZ5dLC.js";var ia=c('<span class="error-text">Inserisci un indirizzo email valido</span>'),ta=c('<span class="error-text">La password deve essere di almeno 6 caratteri</span>'),la=c('<div class="error-message"> </div>'),oa=c('<span class="loading-spinner"></span> Accesso in corso...',1),na=c('<div class="min-w-screen container relative flex min-h-screen flex-col items-center justify-center p-4"><div class="auth-card flex flex-col items-center justify-center gap-3"><div class="auth-header"><h1>Accedi</h1></div> <form class="auth-form" method="POST" action="?/login"><div class="form-group"><label for="email">Indirizzo Email</label> <input id="email" type="email" autocomplete="email" required/> <!></div> <div class="form-group"><label for="password">Password</label> <input id="password" type="password" placeholder="Inserisci la tua password" autocomplete="current-password" required/> <!></div> <div class="form-options"><label class="checkbox-label"><input type="checkbox" class="checkbox"/> <span class="checkmark"></span> Ricordami</label></div> <!> <button type="submit" class="btn btn-primary"><!></button></form> <div class="auth-switch flex w-full flex-col items-center justify-center gap-2"><div class="w-full border-t border-gray-600"></div> <p>Non hai un account? <a href="/register"><button type="button" class="link-btn">Registrati</button></a></p></div></div></div>');function _a(T,W){U(W,!0);let r=R(""),t=R(""),b=R(!1);const h=j(()=>e(r).includes("@")&&e(r).includes(".")),_=j(()=>e(t).length>=6),B=j(()=>e(h)&&e(_));let p=V({value:""}),g=V({value:void 0});var w=na(),z=l(w),x=i(l(z),2),y=l(x),d=i(l(y),2);N(d);let A;var C=i(d,2);{var F=a=>{var s=ia();n(a,s)};f(C,a=>{e(r)&&!e(h)&&a(F)})}o(y);var k=i(y,2),v=i(l(k),2);N(v);let E;var G=i(v,2);{var H=a=>{var s=ta();n(a,s)};f(G,a=>{e(t)&&!e(_)&&a(H)})}o(k);var P=i(k,4);{var J=a=>{var s=la(),u=l(s,!0);o(s),q(()=>Z(u,p?.value)),n(a,s)};f(P,a=>{p!==void 0&&p.value!==void 0&&p.value.length>0&&a(J)})}var I=i(P,2),K=l(I);{var M=a=>{var s=oa();O(),n(a,s)},Q=a=>{var s=Y("Accedi");n(a,s)};f(K,a=>{e(b)?a(M):a(Q,!1)})}o(I),o(x),D(x,(a,s)=>$?.(a,s),()=>({formData:a})=>(m(b,!0),a.set("email",e(r)),a.set("password",e(t)),async({result:s,update:u})=>{m(b,!1),s.type==="success"?await u():s.type==="failure"?(console.log("ERRORE"),await u()):s.type==="redirect"&&(await ea(sa.auth,e(r),e(t)),ra(s.location))})),O(2),o(z),o(w),q((a,s)=>{aa(d,"placeholder",g===void 0||g.value===void 0?"Inserisci la tua email":g.value?.email),A=S(d,1,"form-input",null,A,a),E=S(v,1,"form-input",null,E,s),I.disabled=!e(B)},[()=>({invalid:e(r)&&!e(h)}),()=>({invalid:e(t)&&!e(_)})]),L(d,()=>e(r),a=>m(r,a)),L(v,()=>e(t),a=>m(t,a)),n(T,w),X()}export{_a as component};
