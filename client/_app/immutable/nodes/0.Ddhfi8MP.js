import"../chunks/DsnmJJEf.js";import{o as f,a as m,s as p}from"../chunks/CStty2jV.js";import{p as w,ae as n,af as g,f as h,b,c as E,d as L,r as y}from"../chunks/nGUMutCJ.js";import{o as x,f as S}from"../chunks/BrdxJ9sT.js";import{s as j,c as k}from"../chunks/Bou_iUIi.js";import{n as C}from"../chunks/Ci16hXE_.js";var A=h('<div class="flex min-h-screen min-w-screen flex-col items-center justify-center bg-blue-900"><!></div>');function q(l,r){w(r,!0);const t=n({value:!0}),i=n({value:!0});let a=n({value:null});const c=n({value:""}),v=n({value:C.complete!==null});g("App",{isOnline:t,isLoading:v,rememberMe:i,user:a,error:c});function e(){t.value=navigator.onLine}f(()=>{"serviceWorker"in navigator&&addEventListener("load",function(){navigator.serviceWorker.register("../service-worker.js")});const d=x(S.auth,s=>{s?(a.value=s,j(s)):k()});return e(),window.addEventListener("online",e),window.addEventListener("offline",e),()=>{d(),window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),m(()=>{i.value||(async()=>await fetch("/api/session",{method:"DELETE",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:""}))()});var o=A(),u=L(o);p(u,()=>r.children),y(o),b(l,o),E()}export{q as component};
