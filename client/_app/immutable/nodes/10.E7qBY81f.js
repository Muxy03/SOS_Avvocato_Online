import"../chunks/DsnmJJEf.js";import"../chunks/D4VBDwzt.js";import{p as ve,h as m,a as fe,a1 as be,f as k,s as i,a0 as pe,e as s,t as Z,i as t,c as w,d as xe,j as l,r}from"../chunks/813Ht5r7.js";import{d as ge,s as S}from"../chunks/CUznojAc.js";import{i as K}from"../chunks/DadSIK-R.js";import{e as _e,i as ye}from"../chunks/BhwEvS7S.js";import{a as he,b as j,e as we}from"../chunks/Bh_3nlJB.js";import{r as A,a as je}from"../chunks/KXhGhqBc.js";import{b as ke}from"../chunks/aivD5g2S.js";function Ce(v,d){const n=Array.from(v.target?.files||[]);d(n)}function Se(v,d,n,h,p,f,b,c,x){confirm("Are you sure you want to cancel? All data will be lost.")&&(l(d,""),l(n,""),l(h,""),l(p,""),l(f,""),l(b,[],!0),l(c,!1),l(x,{to:t(d),subject:t(p),message:t(f)}))}var Ae=(v,d)=>l(d,!0),Be=k('<button type="button" class="text-sm font-medium text-blue-600 hover:text-blue-800">+ Add CC/BCC</button>'),Ee=k('<div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div><label for="cc-email" class="mb-2 block text-sm font-medium text-gray-700">CC</label> <input id="cc-email" type="email" placeholder="cc@example.com" class="w-full rounded-md border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"/></div> <div><label for="bcc-email" class="mb-2 block text-sm font-medium text-gray-700">BCC</label> <input id="bcc-email" type="email" placeholder="bcc@example.com" class="w-full rounded-md border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"/></div></div>'),Me=(v,d,n)=>d(t(n).id),ze=k('<div class="file-item flex items-center justify-between rounded-lg bg-gray-50 svelte-1qutyk1"><div class="flex items-center justify-center gap-1"><div><p class="font-medium text-gray-900"> </p> <p class="text-sm text-gray-500"> </p></div></div> <button type="button" class="font-medium text-red-500 hover:text-red-700">âœ•</button></div>'),Fe=k('<div class="space-y-2"></div>'),Te=k('<div class="flex min-h-screen items-center justify-center"><div class="flex h-[600px] w-[300px] flex-col items-center justify-center"><div class="flex w-full flex-col items-center justify-around gap-5 overflow-hidden rounded-lg bg-white shadow-lg"><div class="flex flex-col items-center justify-center gap-1 bg-white"><h1 class="text-2xl font-bold text-blue-600">Send Email</h1> <div class="w-full border-t border-t-blue-600"></div> <p class=" text-center text-blue-500">Compose and send your message with attachments</p> <div class="w-full border-t border-t-blue-600"></div></div> <form class="flex flex-col items-center gap-1" method="POST" action="?/sendEmail"><div class="flex items-center justify-between gap-4"><label for="sender-mail" class="block text-sm font-medium text-gray-700">To</label> <input id="sender-mail" type="email" placeholder="recipient@example.com" class="w-full rounded-md border border-gray-300 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"/></div> <!> <!> <div><label for="subject" class="mb-2 block text-sm font-medium text-gray-700">Subject <span class="text-red-500">*</span></label> <input id="subject" type="text" placeholder="Enter email subject" class="w-full rounded-md border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"/></div> <div><label for="message" class="mb-2 block text-sm font-medium text-gray-700">Message <span class="text-red-500">*</span></label> <textarea id="message" rows="6" placeholder="Enter your message here..." class="w-full resize-y rounded-md border border-gray-300 px-3 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none"></textarea></div> <div class="flex flex-col items-center gap-2"><label for="files" class="mb-2 block text-sm font-medium text-gray-700">Attachments</label> <input id="files" type="file" multiple class="hidden"/> <!> <div class="text-sm text-gray-500"> </div></div> <div class="flex flex-col items-center justify-between "><div class="flex gap-3"><button type="button" class="rounded-md border border-gray-300 font-medium text-gray-700 transition-colors hover:bg-gray-50">Cancel</button> <button type="submit" class="h-[30px] w-[100px] transform rounded-md bg-blue-600 font-medium text-white transition-all hover:scale-105 hover:from-blue-700 hover:to-purple-700 disabled:transform-none disabled:cursor-not-allowed disabled:opacity-50"> </button></div></div></form></div></div></div>');function Ge(v,d){ve(d,!0);let n=m("a.mussari@studenti.unipi.it"),h=m(""),p=m(""),f=m("TEST"),b=m("TESTING"),c=m(fe([])),x=m(!1),C=m(!1),D=pe(()=>({to:t(n),subject:t(f),message:t(b)})),N=m(void 0);const{error:ee}=be("App");function te(e){if(e===0)return"0 Bytes";const a=1024,o=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,u)).toFixed(2))+" "+o[u]}function ae(e){const a=e.map(o=>({id:Date.now()+Math.random(),file:o,name:o.name,size:o.size,type:o.type}));l(c,[...t(c),...a],!0)}function re(e){l(c,t(c).filter(a=>a.id!==e),!0)}var B=Te(),O=s(B),P=s(O),E=i(s(P),2),M=s(E),$=i(s(M),2);A($),r(M);var H=i(M,2);{var se=e=>{var a=Be();a.__click=[Ae,C],w(e,a)};K(H,e=>{t(C)||e(se)})}var J=i(H,2);{var ie=e=>{var a=Ee(),o=s(a),u=i(s(o),2);A(u),r(o);var g=i(o,2),_=i(s(g),2);A(_),r(g),r(a),j(u,()=>t(h),y=>l(h,y)),j(_,()=>t(p),y=>l(p,y)),w(e,a)};K(J,e=>{t(C)&&e(ie)})}var z=i(J,2),L=i(s(z),2);A(L),r(z);var F=i(z,2),Q=i(s(F),2);je(Q),r(F);var T=i(F,2),G=i(s(T),2);G.__change=[Ce,ae],ke(G,e=>l(N,e),()=>t(N));var R=i(G,2);{var le=e=>{var a=Fe();_e(a,21,()=>t(c),ye,(o,u)=>{var g=ze(),_=s(g),y=s(_),q=s(y),de=s(q,!0);r(q);var Y=i(q,2),ce=s(Y,!0);r(Y),r(y),r(_);var ue=i(_,2);ue.__click=[Me,re,u],r(g),Z(me=>{S(de,t(u).name),S(ce,me)},[()=>te(t(u).size)]),w(o,g)}),r(a),w(e,a)};K(R,e=>{t(c).length>0&&e(le)})}var U=i(R,2),oe=s(U);r(U),r(T);var V=i(T,2),W=s(V),X=s(W);X.__click=[Se,n,h,p,f,b,c,C,D];var I=i(X,2),ne=s(I,!0);r(I),r(W),r(V),r(E),he(E,(e,a)=>we?.(e,a),()=>({formData:e})=>(l(x,!0),e.set("to",t(n)),e.set("subject",t(f)),e.set("message",t(b)),async({result:a,update:o})=>{l(x,!1),a.type==="success"?await o():a.type==="failure"&&(ee.value=a.data?.code,await o())})),r(P),r(O),r(B),Z(()=>{S(oe,`${t(c).length??""} file(s) attached`),I.disabled=t(x),S(ne,t(x)?"Sending...":"Send Email")}),j($,()=>t(n),e=>l(n,e)),j(L,()=>t(f),e=>l(f,e)),j(Q,()=>t(b),e=>l(b,e)),w(v,B),xe()}ge(["click","change"]);function Le(v){Ge(v,{})}export{Le as component};
