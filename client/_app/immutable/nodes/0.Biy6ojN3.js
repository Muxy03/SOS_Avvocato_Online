import"../chunks/DsnmJJEf.js";import{o as h,a as w,s as g}from"../chunks/B4cahDDo.js";import{p as y,a as t,j as E,f as b,c as x,d as L,h as j,e as i,r as o}from"../chunks/CB0GAoS5.js";import{o as S,f as M}from"../chunks/CrL3HiYF.js";import{r as O,s as T}from"../chunks/Dchouehq.js";import{n as _,p as C}from"../chunks/CXKqNFy3.js";import{O as D}from"../chunks/B6vS1P4H.js";import"../chunks/CaL4QoSf.js";var k=b('<div class="flex h-screen w-screen flex-col gap-5"><main class="flex-1 bg-blue-900"><div class="flex h-full w-full items-center justify-center"><!></div></main></div>');function I(d,r){y(r,!0);const m=t({value:!0});let c=t({value:void 0});t({value:_.complete!==null});let p=j(!1);C.error&&E(p,!0);async function u(){const n=await fetch("/api/session",{method:"GET",credentials:"same-origin"});n.status===200&&await n.json()}function e(){D.value=navigator.onLine}h(()=>{O();const n=S(M.auth,a=>{a&&(c.value=a,T(a))});return e(),window.addEventListener("online",e),window.addEventListener("offline",e),u(),()=>{n(),window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),w(()=>{m.value||(async()=>await fetch("/api/session",{method:"DELETE",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:""}))()});var s=k(),l=i(s),f=i(l),v=i(f);g(v,()=>r.children),o(f),o(l),o(s),x(d,s),L()}export{I as component};
