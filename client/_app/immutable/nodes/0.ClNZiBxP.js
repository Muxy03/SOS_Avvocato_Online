import"../chunks/DsnmJJEf.js";import{o as w,a as h,s as g}from"../chunks/CuFu-7Bj.js";import{p as b,a as s,a8 as y,f as E,b as x,c as L,d as t,r as i}from"../chunks/7vUO3RyR.js";import{o as S,f as j}from"../chunks/CrL3HiYF.js";import{r as C,s as O}from"../chunks/Dchouehq.js";import{n as T}from"../chunks/DTi2sDqs.js";import{O as _}from"../chunks/D3ORrAI7.js";var A=E('<div class="flex h-screen w-screen flex-col gap-5"><main class="flex-1 bg-blue-900"><div class="flex h-full w-full items-center justify-center"><!></div></main></div>');function B(c,r){b(r,!0);const d=s({value:!0});let m=s({value:void 0});const u=s({value:""});s({value:T.complete!==null});async function p(){const n=await fetch("/api/session",{method:"GET",credentials:"same-origin"});n.status===200&&await n.json()}function e(){_.value=navigator.onLine}y("App",{error:u}),w(()=>{C();const n=S(j.auth,o=>{o&&(m.value=o,O(o))});return e(),window.addEventListener("online",e),window.addEventListener("offline",e),p(),()=>{n(),window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),h(()=>{d.value||(async()=>await fetch("/api/session",{method:"DELETE",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:""}))()});var a=A(),l=t(a),f=t(l),v=t(f);g(v,()=>r.children),i(f),i(l),i(a),x(c,a),L()}export{B as component};
