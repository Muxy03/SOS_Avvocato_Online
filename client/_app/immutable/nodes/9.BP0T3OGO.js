import"../chunks/DsnmJJEf.js";import{p as ea,a8 as sa,f as d,s as r,t as S,h as s,b as n,c as ra,d as i,g as I,a9 as z,i as u,r as t,aa as T,ab as ia}from"../chunks/nGUMutCJ.js";import{d as ta,s as oa}from"../chunks/BeycMaZk.js";import{i as f}from"../chunks/CltT4Sjb.js";import{a as la,b as W,c as na,e as ca}from"../chunks/D6y1jbd9.js";import{s as da,r as P}from"../chunks/AhqUU1ts.js";import{s as B}from"../chunks/Dzlaz3fn.js";import{s as va,f as pa}from"../chunks/BrdxJ9sT.js";import{g as F}from"../chunks/Bgbd2wj0.js";var ma=d('<span class="error-text">Inserisci un indirizzo email valido</span>'),ua=d('<span class="error-text">La password deve essere di almeno 6 caratteri</span>'),fa=d('<div class="error-message"> </div>'),_a=d('<span class="loading-spinner"></span> Accesso in corso...',1),ba=()=>F("/register"),ha=d('<div class="relative container flex min-h-screen min-w-screen flex-col items-center justify-center p-4"><div class="auth-card"><div class="auth-header"><h1>Accedi</h1></div> <form class="auth-form" method="POST" action="?/login"><div class="form-group"><label for="email">Indirizzo Email</label> <input id="email" type="email" autocomplete="email" required/> <!></div> <div class="form-group"><label for="password">Password</label> <input id="password" type="password" placeholder="Inserisci la tua password" autocomplete="current-password" required/> <!></div> <div class="form-options"><label class="checkbox-label"><input type="checkbox" class="checkbox"/> <span class="checkmark"></span> Ricordami</label></div> <!> <button type="submit" class="btn btn-primary"><!></button></form> <div class="auth-switch"><p>Non hai un account? <button type="button" class="link-btn">Registrati</button></p></div></div></div>');function Ra(G,H){ea(H,!0);let o=I(""),l=I(""),_=I(!1);const b=z(()=>s(o).includes("@")&&s(o).includes(".")),h=z(()=>s(l).length>=6),J=z(()=>s(b)&&s(h));let{RememberMe:R,user:V,error:g}=sa("App");var w=ha(),q=i(w),v=r(i(q),2),x=i(v),c=r(i(x),2);P(c);let E;var K=r(c,2);{var Q=a=>{var e=ma();n(a,e)};f(K,a=>{s(o)&&!s(b)&&a(Q)})}t(x);var k=r(x,2),p=r(i(k),2);P(p);let j;var U=r(p,2);{var X=a=>{var e=ua();n(a,e)};f(U,a=>{s(l)&&!s(h)&&a(X)})}t(k);var y=r(k,2),C=i(y),L=i(C);P(L),T(3),t(C),t(y);var M=r(y,2);{var Y=a=>{var e=fa(),m=i(e,!0);t(e),S(()=>oa(m,g.value)),n(a,e)};f(M,a=>{g.value.length>0&&a(Y)})}var A=r(M,2),Z=i(A);{var D=a=>{var e=_a();T(),n(a,e)},$=a=>{var e=ia("Accedi");n(a,e)};f(Z,a=>{s(_)?a(D):a($,!1)})}t(A),t(v),la(v,(a,e)=>ca?.(a,e),()=>({formData:a})=>(u(_,!0),a.set("email",s(o)),a.set("password",s(l)),async({result:e,update:m})=>{u(_,!1),e.type==="success"?await m():e.type==="failure"?(g.value=e.data?.error,await m()):e.type==="redirect"&&(await va(pa.auth,s(o),s(l)),F(e.location))}));var N=r(v,2),O=i(N),aa=r(i(O));aa.__click=[ba],t(O),t(N),t(q),t(w),S((a,e)=>{da(c,"placeholder",V.value===null?"Inserisci la tua email":V.value.email),E=B(c,1,"form-input",null,E,a),j=B(p,1,"form-input",null,j,e),A.disabled=!s(J)},[()=>({invalid:s(o)&&!s(b)}),()=>({invalid:s(l)&&!s(h)})]),W(c,()=>s(o),a=>u(o,a)),W(p,()=>s(l),a=>u(l,a)),na(L,()=>R.value,a=>R.value=a),n(G,w),ra()}ta(["click"]);export{Ra as component};
