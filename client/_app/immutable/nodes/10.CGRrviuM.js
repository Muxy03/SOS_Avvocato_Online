import"../chunks/DsnmJJEf.js";import{p as ea,a8 as sa,f as p,s as r,t as U,h as e,b as n,c as ra,d as t,g,a9 as h,i as m,r as i,aa as ta,ab as ia}from"../chunks/nGUMutCJ.js";import{d as oa,s as la}from"../chunks/BeycMaZk.js";import{i as u}from"../chunks/CltT4Sjb.js";import{a as na,b as q,e as da}from"../chunks/D6y1jbd9.js";import{s as ca,r as P}from"../chunks/AhqUU1ts.js";import{s as E}from"../chunks/Dzlaz3fn.js";import{g as pa}from"../chunks/Bgbd2wj0.js";import{c as va,f as ma}from"../chunks/BrdxJ9sT.js";import{r as ua}from"../chunks/PD1Wq3xD.js";var fa=p('<span class="error-text">Inserisci un Nome Completo valido</span>'),_a=p('<span class="error-text">Inserisci un indirizzo email valido</span>'),ba=p('<span class="error-text">La password deve essere di almeno 6 caratteri</span>'),ga=p('<div class="error-message max-w-full text-clip"> </div>'),ha=p('<span class="loading-spinner"></span> Creazione account...',1),wa=()=>pa("/login"),xa=p('<div class="relative container flex min-h-screen min-w-screen flex-col items-center justify-center p-4"><div class="auth-card"><div class="auth-header"><h1>Registrati</h1></div> <form class="auth-form" method="POST" action="?/register"><div class="form-group"><label for="fullName">Nome Completo</label> <input id="fullName" type="text" placeholder="Inserisci Nome e Cognome" required/> <!></div> <div class="form-group"><label for="email">Indirizzo Email</label> <input id="email" type="email" placeholder="Inserisci la tua email" autocomplete="email" required/> <!></div> <div class="form-group"><label for="password">Password</label> <input id="password" type="password" placeholder="Inserisci la tua password" required/> <!></div> <!> <button type="submit" class="btn btn-primary"><!></button></form> <div class="auth-switch"><p>Hai gi√† un account? <button type="button" class="link-btn">Accedi</button></p></div></div></div>');function Ea(W,B){ea(B,!0);let o=g(""),l=g(""),d=g(""),w=g(!1);const{error:x}=sa("App"),y=h(()=>e(o).includes("@")&&e(o).includes(".")),N=h(()=>e(l).length>=6),C=h(()=>e(d).length>0),F=h(()=>e(y)&&e(N)&&e(C));var I=xa(),j=t(I),f=r(t(j),2),k=t(f),_=r(t(k),2);P(_);let H;var G=r(_,2);{var J=a=>{var s=fa();n(a,s)};u(G,a=>{e(d)&&!e(C)&&a(J)})}i(k);var z=r(k,2),b=r(t(z),2);P(b);let L;var K=r(b,2);{var M=a=>{var s=_a();n(a,s)};u(K,a=>{e(o)&&!e(y)&&a(M)})}i(z);var A=r(z,2),v=r(t(A),2);P(v);let O;ca(v,"autocomplete","new-password");var Q=r(v,2);{var X=a=>{var s=ba();n(a,s)};u(Q,a=>{e(l)&&!e(N)&&a(X)})}i(A);var R=r(A,2);{var Y=a=>{var s=ga(),c=t(s,!0);i(s),U(()=>la(c,x.value)),n(a,s)};u(R,a=>{x.value.length>0&&a(Y)})}var V=r(R,2),Z=t(V);{var D=a=>{var s=ha();ta(),n(a,s)},$=a=>{var s=ia("Crea Account");n(a,s)};u(Z,a=>{e(w)?a(D):a($,!1)})}i(V),i(f),na(f,(a,s)=>da?.(a,s),()=>({formData:a})=>(m(w,!0),a.set("email",e(o)),a.set("password",e(l)),a.set("fullName",e(d)),async({result:s,update:c})=>{m(w,!1),s.type==="success"?await c():s.type==="failure"?(x.value=s.data?.code,await c()):s.type==="redirect"&&(await va(ma.auth,e(o),e(l)),ua(303,s.location))}));var S=r(f,2),T=t(S),aa=r(t(T));aa.__click=[wa],i(T),i(S),i(j),i(I),U((a,s,c)=>{H=E(_,1,"form-input",null,H,a),L=E(b,1,"form-input",null,L,s),O=E(v,1,"form-input",null,O,c),V.disabled=!e(F)},[()=>({invalid:e(d)&&!e(C)}),()=>({invalid:e(o)&&!e(y)}),()=>({invalid:e(l)&&!e(N)})]),q(_,()=>e(d),a=>m(d,a)),q(b,()=>e(o),a=>m(o,a)),q(v,()=>e(l),a=>m(l,a)),n(W,I),ra()}oa(["click"]);export{Ea as component};
