import"../chunks/DsnmJJEf.js";import{o as M,a as _,s as L}from"../chunks/BkzrqWM-.js";import{p as O,a as r,l as p,f as h,b as l,c as j,j as C,e as S,d,r as f,s as R,n as T,a2 as $,t as k,k as A}from"../chunks/D50pdiVl.js";import{s as D}from"../chunks/BExVpiIy.js";import{o as Z,f as G}from"../chunks/CrL3HiYF.js";import{r as P,s as W}from"../chunks/Dchouehq.js";import{n as q,p as v}from"../chunks/CEylPTDC.js";import{O as z}from"../chunks/BRRXS_64.js";import{M as B}from"../chunks/Dbvaylpg.js";var F=h("<h2>ERROR</h2>"),H=h('<div class="flex h-screen w-screen flex-col gap-5"><main class="flex-1 bg-blue-900"><div class="flex h-full w-full items-center justify-center"><!></div> <!></main></div>');function ee(w,m){O(m,!0);const g=r({value:!0});let x=r({value:void 0});r({value:q.complete!==null});let o=C(!1);v.error&&p(o,!0);async function b(){const a=await fetch("/api/session",{method:"GET",credentials:"same-origin"});a.status===200&&await a.json()}function t(){z.value=navigator.onLine}M(()=>{P();let a=r({value:""});S("CAZZO",a);const e=Z(G.auth,s=>{s&&(x.value=s,W(s))});return t(),window.addEventListener("online",t),window.addEventListener("offline",t),b(),()=>{e(),window.removeEventListener("online",t),window.removeEventListener("offline",t)}}),_(()=>{g.value||(async()=>await fetch("/api/session",{method:"DELETE",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:""}))()});var n=H(),u=d(n),i=d(u),E=d(i);L(E,()=>m.children),f(i);var y=R(i,2);B(y,{get showModal(){return A(o)},set showModal(e){p(o,e,!0)},header:e=>{var s=F();l(e,s)},children:(e,s)=>{T();var c=$();k(()=>D(c,v.error?.message)),l(e,c)},$$slots:{header:!0,default:!0}}),f(u),f(n),l(w,n),j()}export{ee as component};
