import"../chunks/DsnmJJEf.js";import{o as U}from"../chunks/DbbzO-B6.js";import{p as X,f as m,t as P,i as a,c as d,d as Y,s as t,e as o,h as c,a0 as I,j as l,a1 as Z,r as n,n as V,k as D}from"../chunks/813Ht5r7.js";import{s as $}from"../chunks/CUznojAc.js";import{i as h}from"../chunks/DadSIK-R.js";import{a as ee,b as q,e as ae}from"../chunks/Bh_3nlJB.js";import{s as se,r as O}from"../chunks/KXhGhqBc.js";import{s as C}from"../chunks/DL-E3Ce0.js";import{s as re,f as te}from"../chunks/BrdxJ9sT.js";import{g as ie}from"../chunks/CgQPfSTX.js";var oe=m('<span class="error-text">Inserisci un indirizzo email valido</span>'),le=m('<span class="error-text">La password deve essere di almeno 6 caratteri</span>'),ne=m('<div class="error-message"> </div>'),de=m('<span class="loading-spinner"></span> Accesso in corso...',1),ce=m('<div class="relative container flex min-h-screen min-w-screen flex-col items-center justify-center p-4"><div class="auth-card flex flex-col items-center justify-center gap-3"><div class="auth-header"><h1>Accedi</h1></div> <form class="auth-form" method="POST" action="?/login"><div class="form-group"><label for="email">Indirizzo Email</label> <input id="email" type="email" autocomplete="email" required/> <!></div> <div class="form-group"><label for="password">Password</label> <input id="password" type="password" placeholder="Inserisci la tua password" autocomplete="current-password" required/> <!></div> <div class="form-options"><label class="checkbox-label"><input type="checkbox" class="checkbox"/> <span class="checkmark"></span> Ricordami</label></div> <!> <button type="submit" class="btn btn-primary"><!></button></form> <div class="w-full auth-switch flex flex-col items-center justify-center gap-2"><div class="w-full border-t border-gray-600"></div> <p>Non hai un account? <a href="/register"><button type="button" class="link-btn">Registrati</button></a></p></div></div></div>');function xe(L,N){X(N,!0);let r=c(""),i=c(""),_=c(!1);const g=I(()=>a(r).includes("@")&&a(r).includes(".")),w=I(()=>a(i).length>=6),S=I(()=>a(g)&&a(w));let p=c(void 0),v=c(void 0),T=c(void 0);U(()=>{const e=Z("App");l(T,{...e.RememberMe},!0),l(v,{...e.user},!0),l(p,{...e.error},!0)});var x=ce(),j=o(x),y=t(o(j),2),k=o(y),u=t(o(k),2);O(u);let z;var W=t(u,2);{var B=e=>{var s=oe();d(e,s)};h(W,e=>{a(r)&&!a(g)&&e(B)})}n(k);var R=t(k,2),f=t(o(R),2);O(f);let E;var F=t(f,2);{var G=e=>{var s=le();d(e,s)};h(F,e=>{a(i)&&!a(w)&&e(G)})}n(R);var M=t(R,4);{var H=e=>{var s=ne(),b=o(s,!0);n(s),P(()=>$(b,a(p)?.value)),d(e,s)};h(M,e=>{a(p)!==void 0&&a(p).value!==void 0&&a(p).value.length>0&&e(H)})}var A=t(M,2),J=o(A);{var K=e=>{var s=de();V(),d(e,s)},Q=e=>{var s=D("Accedi");d(e,s)};h(J,e=>{a(_)?e(K):e(Q,!1)})}n(A),n(y),ee(y,(e,s)=>ae?.(e,s),()=>({formData:e})=>(l(_,!0),e.set("email",a(r)),e.set("password",a(i)),async({result:s,update:b})=>{l(_,!1),s.type==="success"?await b():s.type==="failure"?(console.log("ERRORE"),await b()):s.type==="redirect"&&(await re(te.auth,a(r),a(i)),ie(s.location))})),V(2),n(j),n(x),P((e,s)=>{se(u,"placeholder",a(v)===void 0||a(v).value===void 0?"Inserisci la tua email":a(v).value?.email),z=C(u,1,"form-input",null,z,e),E=C(f,1,"form-input",null,E,s),A.disabled=!a(S)},[()=>({invalid:a(r)&&!a(g)}),()=>({invalid:a(i)&&!a(w)})]),q(u,()=>a(r),e=>l(r,e)),q(f,()=>a(i),e=>l(i,e)),d(L,x),Y()}export{xe as component};
