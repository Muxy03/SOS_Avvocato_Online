{"version":3,"file":"10-D3kiE2Fi.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(auth)/register/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/10.js"],"sourcesContent":["import { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { f as firebase } from \"../../../../chunks/firebase.js\";\nimport { fail } from \"@sveltejs/kit\";\nimport { addDoc, collection } from \"firebase/firestore\";\nconst actions = {\n  register: async ({ fetch, request }) => {\n    const formData = await request.formData();\n    const fullName = formData.get(\"fullName\");\n    const email = formData.get(\"email\");\n    const password = formData.get(\"password\");\n    try {\n      const User = (await createUserWithEmailAndPassword(firebase.auth, email, password)).user;\n      await fetch(\"/api/session\", {\n        method: \"POST\",\n        credentials: \"same-origin\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(User)\n      });\n      await addDoc(collection(firebase.db, \"Users\"), {\n        id: User.uid,\n        FullName: fullName,\n        email: User.email,\n        createdAt: Date.now().toString(),\n        lastLogin: Date.now().toString(),\n        Emails: []\n      });\n    } catch (err) {\n      console.error(\"Registration error:\", err);\n      return fail(400, {\n        error: JSON.stringify(err)\n      });\n    }\n  }\n};\nexport {\n  actions\n};\n","import * as server from '../entries/pages/(auth)/register/_page.server.ts.js';\n\nexport const index = 10;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/(auth)/register/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/(auth)/register/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/10.CGRrviuM.js\",\"_app/immutable/chunks/DsnmJJEf.js\",\"_app/immutable/chunks/nGUMutCJ.js\",\"_app/immutable/chunks/BeycMaZk.js\",\"_app/immutable/chunks/CltT4Sjb.js\",\"_app/immutable/chunks/D6y1jbd9.js\",\"_app/immutable/chunks/AhqUU1ts.js\",\"_app/immutable/chunks/Bgbd2wj0.js\",\"_app/immutable/chunks/CStty2jV.js\",\"_app/immutable/chunks/CYgJF_JY.js\",\"_app/immutable/chunks/Dzlaz3fn.js\",\"_app/immutable/chunks/BrdxJ9sT.js\",\"_app/immutable/chunks/PD1Wq3xD.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;;;AAIA,MAAM,OAAO,GAAG;AAChB,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK;AAC1C,IAAI,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE;AAC7C,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC;AAC7C,IAAI,MAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC;AACvC,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC;AAC7C,IAAI,IAAI;AACR,MAAM,MAAM,IAAI,GAAG,CAAC,MAAM,8BAA8B,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,CAAC,EAAE,IAAI;AAC9F,MAAM,MAAM,KAAK,CAAC,cAAc,EAAE;AAClC,QAAQ,MAAM,EAAE,MAAM;AACtB,QAAQ,WAAW,EAAE,aAAa;AAClC,QAAQ,OAAO,EAAE,EAAE,cAAc,EAAE,kBAAkB,EAAE;AACvD,QAAQ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI;AACjC,OAAO,CAAC;AACR,MAAM,MAAM,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE,EAAE,OAAO,CAAC,EAAE;AACrD,QAAQ,EAAE,EAAE,IAAI,CAAC,GAAG;AACpB,QAAQ,QAAQ,EAAE,QAAQ;AAC1B,QAAQ,KAAK,EAAE,IAAI,CAAC,KAAK;AACzB,QAAQ,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE;AACxC,QAAQ,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE;AACxC,QAAQ,MAAM,EAAE;AAChB,OAAO,CAAC;AACR,IAAI,CAAC,CAAC,OAAO,GAAG,EAAE;AAClB,MAAM,OAAO,CAAC,KAAK,CAAC,qBAAqB,EAAE,GAAG,CAAC;AAC/C,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE;AACvB,QAAQ,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG;AACjC,OAAO,CAAC;AACR,IAAI;AACJ,EAAE;AACF,CAAC;;;;;;;AC/BW,MAAC,KAAK,GAAG;AACrB,IAAI,eAAe;AACP,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAAkD,CAAC,EAAE;AAEhH,MAAC,SAAS,GAAG;AACb,MAAC,OAAO,GAAG,CAAC,qCAAqC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC;AACje,MAAC,WAAW,GAAG;AACf,MAAC,KAAK,GAAG;;;;"}