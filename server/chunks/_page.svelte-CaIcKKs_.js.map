{"version":3,"file":"_page.svelte-CaIcKKs_.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_page.svelte.js"],"sourcesContent":["import { Z as attr, $ as await_block, Q as pop, O as push, X as escape_html } from \"../../chunks/index.js\";\nimport { n as navigating } from \"../../chunks/index3.js\";\nimport { l as logo } from \"../../chunks/LOGO.js\";\nimport \"../../chunks/firebase.js\";\nimport \"clsx\";\nimport \"firebase/auth\";\nfunction getInitials(name, email) {\n  if (name && name.trim()) {\n    return name.trim().split(\" \").map((n) => n[0]).join(\"\").toUpperCase().slice(0, 2);\n  }\n  return email.charAt(0).toUpperCase();\n}\nfunction LoadingPage($$payload) {\n  $$payload.out.push(`<div class=\"min-w-screen imtes-center flex min-h-screen justify-center\"><img${attr(\"src\", logo)} alt=\"Logo\" class=\"animate-ping\" width=\"100\" height=\"100\"/></div>`);\n}\nfunction _page($$payload, $$props) {\n  push();\n  let { data } = $$props;\n  let user = { value: void 0 };\n  const isLoading = { value: navigating.complete !== null };\n  isLoading.value = navigating.complete !== null;\n  user.value = data;\n  async function setUser() {\n    const response = await fetch(\"/api/session\", { method: \"GET\", credentials: \"same-origin\" });\n    if (response.status === 200) {\n      const userSession = await response.json();\n      user.value = userSession;\n    }\n  }\n  {\n    $$payload.out.push(\"<!--[!-->\");\n  }\n  $$payload.out.push(`<!--]--> `);\n  if (isLoading.value) {\n    $$payload.out.push(\"<!--[-->\");\n    LoadingPage($$payload);\n  } else {\n    $$payload.out.push(\"<!--[!-->\");\n    if (user.value !== void 0) {\n      $$payload.out.push(\"<!--[-->\");\n      $$payload.out.push(`<div class=\"animate-slideUp mx-auto flex h-[250px] w-[300px] flex-col items-center justify-center gap-4 rounded-2xl bg-white text-gray-900 shadow-2xl\"><h1 class=\"text-3xl font-extrabold tracking-tight text-gray-800\">Bentornato!</h1> <div class=\"flex flex-col items-center justify-center gap-4\"><div class=\"flex flex-col items-center gap-5 text-center\">`);\n      {\n        $$payload.out.push(\"<!--[!-->\");\n      }\n      $$payload.out.push(`<!--]--> `);\n      await_block(\n        $$payload,\n        setUser(),\n        () => {\n          $$payload.out.push(`<p>LOADING...</p>`);\n        },\n        (_) => {\n          $$payload.out.push(`<a href=\"/home\" target=\"_self\" rel=\"noopener noreferrer\" aria-label=\"/home\" class=\"w-full\"><div class=\"flex h-[60px] w-[280px] items-center gap-1 rounded-2xl bg-blue-500\"><div class=\"flex-1/4 flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-sm font-bold text-white\">${escape_html(getInitials(user.value.FullName, user.value.email))}</div> <div class=\"flex-3/4 w-full text-center\"><h2 class=\"break-words text-xl font-bold text-white\">${escape_html(user.value.FullName)}</h2> <p class=\"break-all text-sm text-white\">${escape_html(user.value.email)}</p></div></div></a>`);\n        }\n      );\n      $$payload.out.push(`<!--]--></div></div> <div class=\"flex flex-col gap-4\"><button type=\"button\" class=\"rounded-xl border-2 border-gray-200 bg-gray-100 px-6 py-4 text-base font-semibold text-slate-600 transition hover:border-gray-300 hover:bg-gray-200\">Disconnetti</button></div></div>`);\n    } else {\n      $$payload.out.push(\"<!--[!-->\");\n    }\n    $$payload.out.push(`<!--]-->`);\n  }\n  $$payload.out.push(`<!--]-->`);\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}